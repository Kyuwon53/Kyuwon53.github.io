---
layout: post
categories: 공부 Elasticsearch
---
상황에 따라 여러 가지 방법으로 엘라스틱 스택을 오케스트레이션하고 배포할 수 있다.

- 엘라스틱서치를 실행할 인프라를 직접 관리할 것인지 여부 
    - 온프레미스 인프라를 사용해야 하는 엄격한 규제나 규정 준수 요구사항이 있는 경우
- 자동화된 오케스트레이션과 배포 기능에 대한 엑세스 권한의 필요 여부
- 특정 하드웨어 유형(온프레미스 또는 클라우드)에서 디플로이먼트 실행의 필요 여부
- 엘라스틱서치 클러스터의 노드 수(그에 따른 관리해야 하는 컴퓨팅 인프라의 규모)
- 조직 내에서 사용하려는 다양한 엘라스틱서치 클러스터의 수 


## 독립 실행형 디플로이먼트 
자체 인프라에서 실행되며 직접 관리해야 한다. 

즉시 사용 가능한 오케스트레이션 기능이 제공되지 않으므로 특히 규모가 클 경우 관리하거나 업그레이드하기가 어려울 수 있다. 이러한 디폴로이먼트를 관리하기 위해 사용자 정의 도구나 자동화에 투자가 필요한 경우가 많다. 

대규모 운영 디플로이먼트에는 오케스트레이션과 관리 기능의 이점을 얻을 수 있는 엘라스틱 클라우드 사용을 고려해 볼 수 있다. 

## 엘라스틱 클라우드 

엘라스틱 스택의 컴포넌트에 대한 오케스트레이션과 관리 감독 기능을 제공하는 제품이다. 
- 엘라스틱서치 서비스(Elasticsearch Service; ESS) : 사용자가 선택한 다양한 클라우드 공급자와 리전에 엘라스틱서치와 키ㅂ나 디플로이먼트를 제공하는 관리형(SaaS) 제품
- 엘라스틱 클라우드 엔터프라이즈(Elastic Cloud Enterprise; ECE) : 어떤 인프라(온프레미스 또는 퍼블릭 클라우드 서브넷/VPC)에서나 엘라스틱 스택 컴포넌트에 대한 오케스트레이션 기능을 제공한다. ECE는 Platform-as-a-Serivce(PaaS) 제품으로, 자체 인프라를 프로비저닝하고 ECE 컴포넌트가 제대로 동작하는지 확인해야 한다는 점에서 자체 관리형이다. 
- 엘라스틱 클라우드 쿠버네티스(Elastic Cloud on Kubernetes; ECK) : 또 다른 PaaS 제품. 쿠버네티스의 엘라스틱 디플로이먼트를 오케스트레이션할 수 있다. ECK는 설정 파일을 사용해 엘라스틱서치와 키바나, 비츠 컴포넌트를 배포, 업그레이드, 변경할 수 있는 쿠버네티스 오퍼레이터를 제공

## 엘라스틱 스택에 구축된 솔루션
### Enterprise Search
애플리케이션, 웹사이트, 내부 사이트에 대한 검색 기능을 최대한 쉽고 원활하게 추가할 수 있게 다양한 기능에 대한 엑세스를 제공한다. 
- App Search 제품은 개발자가 관련성과 허용성, 통찰력 있는 검색에 중점을 두고 데이터를 색인하고 검색할 수 있게 사용자 친화적인 API를 통한 엑세스를 제공한다. 관련성은 사용자가 보는 결과의 전반적인 품질을 향상시킨다. 오타를 허용하고 검색어 제안을 제공하므로 사용자가 검색 애플리케이션 자체를 쉽게 사용할 수 있다. 
- Site Search : 공객 웹사이트에 검색을 쉽게 추가할 수 있다. SaaS 서비스로 웹사이트상에서 콘텐츠를 탐색하고 색인하는 웹 크롤러를 함께 제공한다. 자체 프론트엔드를 구현해 API와 통합하거나 제공되는 샘플 프런트엔드 애플리케이션 중 하나를 사용할 수 있다. 
- Workplace Search: 조직 내 콘텐츠를 쉽고 편리하게 검색할 수 있다. 서로 다른 내부 데이터 소스에서 통합 검색을 수행해 팀 생산성과 효율성을 향상시킴. 

### Security
키바나가 오랫동안 제공해온 빅데이터 검색과 탐색, 시각화 기능의 견고한 토대를 기반으로 구축. SIEM 솔루션과 EDR 기능을 사용해 보안 분석 기능을 구현하도록 지원함. 

- SIEM 제품을 사용하면 보안 분석가와 실무자가 데이터를 쉽게 분석하고 시각화할 수 있다. SIEM은 위협을 탐지하고 경보에 대응하는 프레임워크는 물론 위협 사냥(threat hunting)과 조사 도구도 함께 제공한다. SIEM 앱은 ECS를 활용해 Elastic Endpoint Security 에이전트에서 다양한 소스로부터 데이터를 수집하는 비츠와 ECS와 호환되는 자체 데이터 소스에 이르기까지 모든 유형의 데이터를 처리할 수 있다. 
- Endpoint Secutiry 제품에는 네트워크 전체의 호스트를 공격으로부터 보호하는 에이전트 기반 악성 소프트웨어 탐지와 방지, 대응 기능이 있다. 엘라스틱서치와 SIEM 앱에서 시각화와 좀 더 복잡한 분서을 위해 호스트 기반 원격 측정 데이터를 수집해 환경에 대한 가시성을 제공

### Observability
개발자와 엔지니어가 애플리케이션과 인프라의 성능과 운영에 대한 더 나은 가시성과 통찰력을 얻는 데 도움이 되는 기능을 제공

키바나의 Logs, Metrics, Uptime, APM 앱으로 구성됨. 

- Logs 앱은 추적/정보/오류 로그와 같은 애플리케이션 이벤트를 표시해 애플리케이션이나 플랫폼과 관련된 문제를 손쉽게 진단할 수 있게 한다. 
- Metrics 앱은 애플리케이션이나 애플리케이션의 컴포넌트에서 얻은 측정값을 그래프로 표시해 엔지니어가 실행 중인 워크로드를 파악하는 데 도움은 줌
- Uptime 앱은 서비스나 엔드포인트의 가동시간과 지연시간 메트릭을 시각화해 엔지니어가 애플리케이션의 가용성이나 상태에 관한 문제를 찾을 수 있게 지원
- APM 앱을 사용하면 사용자 지정 애플리케이션 코드를 실행 중에 계측할 수 있으므로 느린 기능/서브루틴과 성능 저하나 애플리케이션 고장을 일으킬 수 있는 사용 패턴과 같은 측면의 데이터를 수집할 수 있다.
